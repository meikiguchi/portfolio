<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8"/>
    <title>practice3</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css">  
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.css">
    <link rel="stylesheet" href="./assets/stylesheet.scss">     
    <link rel="stylesheet" href="./assets/stylesheet.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
  </head>

  <body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script> 
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/protonet-jquery.inview/1.1.2/jquery.inview.min.js"></script>
    <script type="text/javascript" src="//jpostal-1006.appspot.com/jquery.jpostal.js"></script>
    
   

 
    <main>
      <header>
        <nav>
          <ul>
            <li><a href="#main1">main</a></li>
            <li><a href="#plugin">plugin</a></li>
          </ul>
        </nav>
      </header>
      <section id="main1">
        <h4> ①ボタンクリックで下に画像表示、②画像クリックで③リストが変更、④順番が表示、リストの並べ替えが正しければ⑤「正解の画像」、表示の文字が青になる、間違っていたら「不正解の画像」と、⑥ヒントを表示、表示の文字が赤になる。⑦「正解の画像」をクリックで鍵が出てくる、⑧鍵を宝箱にドラッグすると宝箱が開く、⑨キーワードが表示、⑩キーワードを入力すると結果を表示、⑪キーワードが正しければ、住所や名前、メールアドレス入力のフォームが表示----</h4>
        <h3>①----</h3>
        <p class="open">クリック</p>
    
        <h3>②----</h3>
          <img class="imgBox" src="./assets/img/chiwawa.jpg" alt="ペットの画像">
    
    
          <h3>③----</h3>
          <p>芽衣の大切なもの順で並べ変えてね</p>
          <ul id="sortable">
            <li id="1" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>自分</li>
            <li id="2" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>親</li>
            <li id="3" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>項目３</li>
            <li id="4" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>友達</li>
            <li id="5" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>お金</li>
            <li id="6" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>仕事</li>
            <li id="7" class="ui-state-default"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>名誉</li>
          </ul>
          
          <h3>④----⑤</h3>
          <p>リストの順番は「<span id="log"></span>」です</p>
    
          <div id="imgBox2_click">
            <img  class="imgBox2" src="./assets/img/4C8608EE-05AD-4D3F-91B4-BDA55E63BB8F.png" alt="正解の画像">
            <p>熊さんをクリック</p>
          </div>
          <img  class="imgBox3" src="./assets/img/o1020108014296019788.jpg" alt="正解の画像">
          
          <h3>⑥----</h3>
          <div class="deleteBox">
            <p>ヒント：メイプルたちが１番に決まってる！</p>
            <p class="delete">[ 閉じる ]</p>
          </div>
    
          <h3>⑦----</h3>
          <div >
            <img class="drag" src="./assets/img/a6c7255edb27aab61ec0267ee7fc5a12.png" alt="鍵の画像">
          </div>

          <h3>⑧----⑨</h3>
          <div id="drop">
            <img class="drop2" src="./assets/img/gold_treasure_illust_1994.png" alt="宝箱画像">
            <img class="drop3" src="./assets/img/gold_treasure_illust_1994.png" alt="宝箱画像">
            <img class="drop1" src="./assets/img/gold_treasure_illust_1994.png" alt="宝箱画像">
          </div>

          <div id="overflow">アラート表示</div>
          <div id="overflow2">アラート表示</div>

          <h3>⑩----⑪</h3>
          <input type="text" class="keyword" placeholder="キーワードを入力" title="キーワード入力"></input>
          <input type="button" class="keyword_button" value="これでいく！">
         
          <div>
            <form action="" method="post" name="form" id="formCheck">
              <p>見事クリアされたあなたに、素敵なプレゼントを送ります！送付先のアドレスを入力し、確認画面へ進むボタンをクリックしてください</p>
                <dl>
                    <dt>お名前 ※必須</dt>
                    <dd><input name="name" type="text" value="" placeholder="例)木口芽衣" title="氏名入力"></dd>
                    <dt>お名前(カタカナ) ※必須</dt>
                    <dd><input class="hira_change" name="name2" type="text" value="" placeholder="例)キグチメイ" title="氏名カタカナ入力"></dd>
                </dl>
                <dl>
                    <dt>郵便番号 ※必須</dt>
                    <dd><input id="zip" name="zipnumber" type="text" value="" placeholder="例)460-0002" title="郵便番号入力"></dd>
                    <dt>住所 ※必須</dt>
                    <dd><input type="text" id="address" name="address" value="" title="住所入力"></dd>
                </dl>
                <dl>
                  <dt>メールアドレス ※必須</dt>
                  <dd><input class="email" name="mail" type="mail" value="" placeholder="例)mmm.gmail.com" title="メールアドレス入力"></dd>
              </dl>
                
                <p><input type="submit" value="確認画面へ進む" title="送信"></p>
            </form>
        </div>

      </section>

      <section id="plugin">
        <h2>jqueryプラグイン</h2>
        <div class="slide-items__wrap">
          <h3>bxSliderでスライドショー</h3>
          <ul class="slide-items">
            <li class="slide-items__item">
              <img src="./assets/img/fluffy_doro.png" alt="泥パックの画像">
            </li>
            <li class="slide-items__item">
              <img src="./assets/img/fluffy_awa.png" alt="泡パックの画像">
            </li>
            <li class="slide-items__item">
              <img src="./assets/img/fluffy_yakuyou.png" alt="薬用シャンプーの画像">
            </li>
          </ul>
      </div>

      <div>
        <h3>slickでスライドショー</h3>
        <div class="slider">
          <img src="./assets/img/fluffy_cashmere.png" alt="カシミヤタッチの画像">
          <img src="./assets/img/fluffy_seramid.png" alt="セラミドスキントリートメントの画像">
          <img src="./assets/img/fluffy_yakuyou.png" alt="薬用シャンプーの画像">
        </div>
      </div>

      <div class="swiper">
        <h3>swiperでスライドショー</h3>
        <!-- 必要に応じたwrapper -->
        <div class="swiper-wrapper">
          <!-- スライド -->
          <div class="swiper-slide"><img src="./assets/img/fluffy_rafan.png" alt="ラファンシーズの画像"></div>
          <div class="swiper-slide"><img src="./assets/img/fluffy_present.png" alt="クリスマスプレゼントの画像"></div>
          <div class="swiper-slide"><img src="./assets/img/fluffy_yakuyou.png" alt="薬用シャンプーの画像"></div>
        </div>
        <!-- 必要に応じてナビボタン -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
      </section>

      <div class="img01 visible">
        <p class="tit_top">スクロールすると</p>
        </div>
        <div class="img02 visible">
        <p class="tit_top">文字がふわっと</p>
        </div>
        <div class="img03 visible">
        <p class="tit_top">出てくる</p>
        </div>
  

    </main>

    <script>
      $(function(){
        $(".imgBox").hide();//非表示
        $("#imgBox2_click").hide();
        $(".imgBox3").hide();
        $(".deleteBox").hide();
        $(".drag").hide();
        $("#drop").hide();
        $("#overflow").hide();
        $(".keyword").hide();
        $(".keyword_button").hide();
        $("#overflow2").hide();
        $("#formCheck").hide();
        $(".open").click(function(){
       
        $(".imgBox").show();//表示
          console.log("ペットの画像が表示されました");
        $(".imgBox").click(function(){
          console.log("リストの名前が変わりました");
          $("#3").text("ペット")
          $('#sortable').sortable({
         // updateで並べ替えるたびに更新
          update: function(){
         // toArrayで現在の順番を取得し出力
            $("#log").text($('#sortable').sortable("toArray"));
            var hoge = $("#log").text();
             console.log("現在の順番は"+hoge+"です")
            if (hoge=="3,1,2,4,5,6,7") {
             console.log("正解です");
            $("#log").css("color","blue");//文字青
            $("#imgBox2_click").show();
            $(".imgBox3").hide();
            }
            else {
             console.log("不正解です");
             console.log("ヒントが表示されました");
            $("#log").css("color","red");//文字赤
            $(".imgBox3").show();
            $("#imgBox2_click").hide();
            $(".deleteBox").show();
            $(".deleteBox .delete").click(function(){
         //「閉じる」をクリックで閉じる
            $(this).parents(".deleteBox").animate({ opacity: "hide" }, "slow"); 
            });
          }
          }
        });
        });
       
        $(".imgBox2").click(function(){
          console.log("鍵の画像が表示されました");
          $(".drag").show();
          $("#drop").show();
          $(".drag").draggable();
          $(".drop1").droppable({
         //ドロップOKの要素を指定
          accept :".drag" ,
         //ドロップ時の動作
          drop : function(event , ui){
          console.log("宝箱が開きました");
          $(this).attr('src','./assets/img/treasure_jewelry_illust_2009.png');
          $(function(){
          $("#overflow").show();
          $("#overflow").text('キーワードは、「メイプルポンズ」です').fadeOut(1500);
          $(".keyword").show();
          $(".keyword_button").show();
          });
          $(function(){
          //ボタンが押されたら入力内容をアラートで表示する
          $(".keyword_button").click(function(){
           var text = $('.keyword').val();
           if (text == "メイプルポンズ"){
            console.log("クリアしました");
            $("#overflow2").show();
            $("#overflow2").text("クリア！おめでとうございます");
            $("#formCheck").show();
           }
           else{
            console.log("あと少しです");
            $("#overflow2").show();
            $("#overflow2").text("おしい、、、もうすこし！");
           }
           $("#formCheck").submit(function(){
           if ($("input[name='name']").val() == '') {
            alert('名前を入力してください');
            return false;
           } else {
           $("formCheck").submit();
           }
           });
           $("input[name='name2']").blur(function(){
           if(!$(this).val().match(/^[ァ-ロワヲンー  \r\n\t]*$/)){
            alert('カタカナで入力してください');
            return false;
           }
           });
           $("#formCheck").submit(function isNumeric(value) {
           if ($("input[name='zipnumber']").val() == '') {
            alert('郵便番号を入力してください');
            return false;
           } 
           if( $("input[name='zipnumber']").val().match( /[^0-9.,-]+/ ) ) {
            alert("半角数字で入力して下さい。");
            return false;
           }
            return true;
           });
           $(function () {
          	$('#zip').jpostal({
		          postcode : [
	    	    	'#zip'
	          	],
	          	address : {
		        	'#address' : '%3%4%5'
		         }
	          });
           });
           $("input[name='mail']").blur(function(){
           if(!$(this).val().match(/^([a-zA-Z0-9])+/)){
            alert("半角英数字で入力して下さい。");
            }
           });
           });
           });
          }
          });
        });
        })
        });


        //bxSliderでスライドショー
        $(document).ready(function () {
        $('.slide-items').bxSlider({
          auto:true,//自動スライドの設定
          randomStart:true,//最初に表示するスライド要素をランダムに設定
          responsive:true,//レスポンシブに対応するかどうかの設定
          autoDirection: "prev",//自動スライドの方向の設定 ‘next’: 次へスライド(初期値)
          autoHover:true,//スライダーにホバーしたときに自動スライドを停止させるかどうか設定
          pagerType: "short",//ページ送りのタイプを設定 ‘full’ :スライダーの数だけ黒点の表示(初期値)
        });
        });

        //slickでスライドショー
        $(function() {
        $('.slider').slick({
          autoplay:true, // 自動再生を設定
          autoplaySpeed:5000, // スライド切り替えの時間を設定
          infinite: true, // 無限スライド
          slidesToShow: 2, // 表示するスライド枚数
          centerMode: true,// 前後スライドを部分表示
          dots:true // インジケーターを表示
        });
        });

        //swiperでスライドショー
        const swiper = new Swiper(".swiper", {
          autoplay: true,
          loop: true,
          // ナビボタンが必要なら追加
          navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
          },
          effect: 'flip',//スライダーを1枚のカードのように見立てて回転しながら変化していくエフェクト
          //PC版ではスライダーを3枚表示していたけどブレイクポイントを480pxとして、スマートフォンでは1枚表示にしたい
          breakpoints: {
          480: {
          slidesPerView: 3,
          spaceBetween: 20,
          },
        }
        });

        //スムーススクロール
        $(function () {
        $('a[href^="#"]').click(function () {
          var href = $(this).attr("href");
          var target = $(href == "#" || href == "" ? 'html' : href);
          var position = target.offset().top;
          var speed = 500;
        $("html, body").animate({
          scrollTop: position
          }, speed, "swing");
         return false;
       });
       });

       //inview.jsで文字をふわっと表示する
       $(function() {
       $('.visible').on('inview', function(event, isInView) {
      //一度のみのinviewの際は .oneにする
       if (isInView) {
		  // .visibleがビューポートに入った場合
    	 $(this).addClass('effect');
       } else {
		  // .visibleがビューポートにから抜けた場合
    	 $(this).removeClass('effect');
       }
	    //$('#footer').off('inview');
       });
       });

    </script>
  </body>
</html>